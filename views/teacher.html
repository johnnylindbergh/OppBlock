<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Oppblock System: Teacher Portal</title>
      <link rel="stylesheet" href="/adminstyle.css" type="text/css"/>
    <style> body {padding: 0; margin: 0;} </style>
  </head>
<body>
  <img id = "logo" src="/OppBlockLogoFinal.png">

  <div id= "centralBox">

  <p id= "titleText">Teacher Portal</p>
  <p id= "signedInAs">Signed in as {{teacherName}}</p>

{{#currentOffering}}
<br>
  <button class="accordion"> 
    <br>
    Current Offering: {{name}} <a class="button" href="/attendance/{{uid_offering}}/{{uid_day}}" style = "float:right; ">Take Attendance</a></button>
  {{/currentOffering}}


<div class="panel">
<br>


<h3 style = "font-family: Lucida Grande">Students</h3>
<table style="width:100%" align="center" class="panel">
  <tr class="panel">
    <th class="panel">Name</th>
    <th class="panel">Status</th>
  </tr>

  {{#students}}
  <tr class="panel">
      <td class="panel">{{firstname}} {{lastname}}</td> 
      <td class="panel">{{#arrived}}Arrived{{/arrived}} {{^arrived}}Not Arrived{{/arrived}}</td> 

  </tr>
  {{/students}}
</table>

</div>
<br>

	
	<h2>Offerings</h2> 
  <a class="button" href="/add">Add</a>

<table style="width:100%" align="center">

  <tr>
    <th>Edit</th>
    <th>Name</th>
    <th>Description</th>
    <th>Maximum Size</th>
  </tr>

  {{#data}}
  <tr>
      <td><a class="button" href="/editOffering/{{uid_offering}}/">Edit</a></td> 
      <td>{{offeringName}}</td> 
      <td>{{description}}</td> 
      <td>{{max_size}}</td> 
  </tr>

  {{/data}}
  </table>
  </div>

	
</body>

<script>
var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight){
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
  });
}
</script>

</html>